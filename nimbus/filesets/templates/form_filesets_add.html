<script type="text/javascript" charset="utf-8">
    $(document).ready(function(){
        $('#filepath_template').clone().appendTo('.filepaths').show();
        
        function remover_path(obj) {
            $(obj).parent().remove();
            if ($('#filepath_template').parent().children().length == 1) {
                adicionar_path();
            }
        }
        
        function adicionar_path(obj) {
            if (obj) {
                $('#filepath_template').clone().insertAfter($(obj).parent()).show();
            } else {
                $('#filepath_template').clone().appendTo('.filepaths').show();
            }
            
            
            $('.filepaths .add').unbind('click').click(function(){
                adicionar_path(this);
            });
            
            $('.filepaths .del').unbind('click').click(function(){
                remover_path(this);
            });
        }
        
        $('.filepaths .add').click(function(){
            adicionar_path(this);
        });
        
        $('.filepaths .del').click(function(){
            remover_path(this);
        });
    });
</script>

{% if errors.computer_id %}
<ul class="errorlist">
    <li>{{ errors.computer_id }}</li>
</ul>
{% endif %}
<p>
    <label for="computer_id">Computador que ser√° efetuado o backup:</label><br/>
    <select class="styled" id="computer_id" name="computer_id">
        <option value=""> - Selecione - </option>
        {% for computer in computers %}
        <option value="{{computer.id}}" {% if computer_id == computer.id %}selected="selected"{% endif %}>{{computer.name}}</option>
        {% endfor %}
    </select>
</p>

<p>
    {% if errors.fileset_name %}
    <ul class="errorlist" style="">
        <li>{{ errors.fileset_name }}</li>
    </ul>
    {% endif %}

    <label for="fileset_name">Nome do conjunto de arquivos:</label><br/>
    <input type="text" name="fileset_name" id="fileset_name" class="text mid" value="{{fileset_name}}" />
</p>

<p>
    {% if errors.path %}
    <ul class="errorlist" style="">
        <li>{{ errors.path }}</li>
    </ul>
    {% endif %}
</p>

{% if path %}
<p>Arquivos selecionados:</p>
<ul class="tree" style="padding-left: 20px !important; margin-bottom: 20px">
    {% for p in path %}
    <li class="" style="padding-left: 20px"><span style="padding-left: 10px"><input type="checkbox" name="path" value="{{p}}" checked="checked" />{{p}}</span></li>
    {% endfor %}
</ul>
<p>Selecionar mais arquivos:</p>
{% endif %}

<div id="mensagem_erro_fileset" style="display: none"></div>

<!-- <a href="#" id="update_tree">atualizar arvore</a> -->
<ul class="tree"><li class="directory first"><span><a href="#" path="/">Arquivos</a></span></li></ul>

<p></p>